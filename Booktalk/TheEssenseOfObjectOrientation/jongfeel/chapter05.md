# 객체지향의 사실과 오해 (The Essense of Object-Orientation) Discussions

## Chapter 05, Responsibility and Message

### Discussion 01 - 자율성에 대한 리뷰

객체의 자율성에 대해 다시 한번 의미 되살려 보기.
아래 나열된 키워드들로 말을 만들어보면 어떨까?

- 책임
- 협력
- 설계의 품질

### Discussion 02 - 책임과 추상화

왕이 모자장수에게 증언하라 라는 요청은 상당히 추상화된 내용이다. 모자장수에게 부여된 책임이 추상적일 수록 모자장수는 자율적으로 증언할 수 있게 된다는 내용인데, 여기서 왕이 요청한 메시지가 증언하라가 아닌 설명하라로 바뀌게 되면 추상화의 레벨(의도가 달라지는 차이의 표현)이 달라지므로 설계 중인 협력이 무엇인지에 따라 달라진다는 얘기를 아름답게 포장해서 다음과 같이 얘기하고 있다.

`이런 모호함이 객체지향 설계를 난해하면서도 매력적인 예술로 만드는 이유다.` (145p)

추상화는 어느 수준까지 추상화여야 할까? 이게 정답이 없어 보이는데 알아서 추상화 하라는 얘기일까? 그래서 예제도 증언하라 vs 설명하라의 차이를 알려주긴 하는데 이건 예제일 뿐이고 실제는 어떻게 이 추상화의 레벨을 구분해 볼 수 있을까?

### Discussion 03 - how vs what

내가 평소에 상당히 좋아하는 말로 how 보다는 what, what 보다는 why에 집중하자라고 하는데, 코딩 레벨만 아는 사람한테 이런 얘기는 쓸데없는 얘기일 수 밖에 없다.
왜냐하면 최소한 what의 레벨에 가기 위해서는 설계에 대한 이해가 필수적이기 때문이라서 그렇다.

이것이 당연하고 자연스럽게도 객체의 자율성을 보장하는 책임으로 연결되는데, 평소에 what에 집중하지 못하고 how에 집중했을 때 어떻게 객체지향적이지 못한 결과가 초래되었는지 논의해 보면 좋을 듯.

### Discussion 04 - Message vs Method

원래 객체지향에 대해 잘 알고 있다고 하더라도 메시지(message)에 대한 부분은 생소하거나 이상하게 느껴질 수 있다. 왜냐하면 반대로 메서드(method)의 경우는 객체지향을 배우면서 너무도 당연하고 자연스럽게 그리고 쉽게 배울 수 있는 단어이기 때문에 그렇다.

`메서드를 호출한다` 가 메시지로 받아들여지기 까지 나도 많은 생각을 하게 되었는데, 오히려 이렇게 생각의 전환을 하고 나니 책임과 협력에 대한 키워드의 구분이 더 명확해 진 것 같은 느낌이다.

메시지와 메서드가 어떻게 다른 것이었는지 처음에 생각했던 방식에 대해 논의해 보고, 이해해갔던 과정을 얘기해 보면 좋은 논의가 될 듯.

### Discussion 05 - Polymorphism

객체지향 얘기에 빼놓을 수 없는 중요한 키워드 다형성의 등장!

코드로 오버라이딩 정도를 설명하고 다형성이다라고 나오는 보통의 객체지향 책에서는 접할 수 없는 신선한 빌드업이라고 느껴짐. 왜냐하면 메시지와 메서드의 차이를 구분해놔야 비로소 진정한 다형성이 무엇인지 알게 되니까.

여기에 언급되는 다형성과 여태까지 알고 있었던 다형성의 차이가 어느 정도였는지 얘기해 보면 재미있는 논의가 될 수 있다고 봄.

### Discussion 06 - 송신자와 수신자를 약하게 연결하는 메시지

이걸 보고 인터페이스를 느꼈는데, 아직 인터페이스에 대한 강력한 문법적인 내용은 없다.

하지만 내용의 뉘앙스는 확실히 인터페이스 얘기가 맞는 것 같다. 이 단락의 내용이 인터페이스인지 아닌지 논의해볼 필요는 있어 보인다.

또 What/who 사이클 설명에 인터페이스를 언급하긴 하는데 약간 객치지향의 멋짐이 인터페이스임이라고 얘기하는 내용이 나온다.

여기서 인터페이스가 얼마나 중요한 대목인지 다시 한번 확인이 가능해진다. 이런 멋짐을 이해하기 위해서는 인터페이스가 무엇인지 다시 의미를 되살려 봐야 할 것 같다.

`메시지가 결정된 후에야 메시지를 수신할 후보를 선택하는 것으로 초점이 이동한다. 멋지지 않은가?` (159p)

### Discussion 07 - interface

마지막 빌드업 인터페이스! 정리를 해 나가면서 메시지의 핵심이 인터페이스라는 걸 다시 언급함.

나 역시도 객치지향을 논할 때 가장 먼저 하는 질문은 아래와 같다고 보는 사람이다.

`인터페이스가 뭔가요?`

인터페이스를 논할 수 없는 사람은 객체지향을 이해하지 못한 사람으로 간주해도 무방하다고 본다.

이후 인터페이스 내용은 (내 기준으로) 당연한 얘기이므로 앞서 discussino 06의 인터페이스에 대한 논의로 대체가 가능함.

### Discussion 08 - Encapsulation

캡슐화가 사실 public, private만 논하고 그칠만한 내용은 아닌데 너무 이쪽 설명에만 치중되어 있어 마음에 들지 않는 부분이 많았음.

뜻밖에도 인터페이스에서 연결되는 내용은 캡슐화라는게 놀라웠고 이게 인터페이스와 구현의 분리 원칙의 방향성을 설명해주는 것이라는 것에서 감탄함. 나 역시 이렇게 설명을 하지는 못했었으니까.

### Discussion 09 - 책임의 자율성이 협력의 품질을 결정한다

멋진 말이다. 이 멋진말을 다섯가지 이유로 너무 자세히 설명해서 당연했지만 감동 받았다. 사실 어느 누구도 이정도로 이유에 대해서 네 페이지에 걸쳐 설명하는 사람이 있을 수 있을까?

다섯가지 이유를 정리해 보며, 누군가 질문을 했을 때 나 역시 대답을 해볼 수 있게 적어본다.

책에 적혀 있는 당연한 얘기고 논의 거리는 아닐 수 있지만, 누군가 질문을 한다면 망설이지 않고 대답하고 싶다.

- 첫째, 자율적인 책임은 협력을 단순하게 만든다.
  - **추상화**에 대한 설명을 할 수 있어야 한다.
- 둘때, 자율적인 책임은 모자 장수의 외부와 내부를 명확하게 분리한다.
  - 메시지와 메서드의 차이, 인터페이스와 구현의 분리를 설명할 수 있어야 한다.
- 셋째, 책임이 자율적일 경우 책임을 수행하는 내부적인 방법을 변경하더라도 외부에 영향을 미치지 않는다.
  - 내부와 외부 얘기는 캡슐화 이야기이고 캡슐화가 잘 되어 있다면, 외부와의 의존성이 분리가 가능하므로 결합도가 낮다는 설명이 가능해진다.
- 넷째, 자율적인 책임은 협력의 대상을 다양하게 선택할 수 있는 유연성을 제공한다.
  - 협력의 대상을 다양하게 선택해도 책임은 자율적이어야 하므로 인터페이스를 통한 일관된 메시지 요청에 대한 응답이 가능해진다면 객체가 변경되어도 충분히 유연해질 수 있다.
- 다섯째, 객체가 수행하는 책임들이 자율적일수록 객체의 역할을 이해하기 쉬워진다.
  - 자율성을 보장하면 역할을 수행하는데 문제가 없을 것이므로 역시 의존성이 낮고 결합도가 강한 객체간의 협력이 가능해 지게 된다.
  