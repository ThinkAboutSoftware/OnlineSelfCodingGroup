# 객체지향의 사실과 오해 (The Essense of Object-Orientation) Discussions

## Chapter 04

### Discussion 01 - Again Role, Responsibility, Collaboration

왕과 토끼 모자장수의 재판 과정을 통한 조금 더 구체적인 설명.

다시 객체에 대한 역할을 잘 설명한 느낌, 메시지라고 얘기했지만 인터페이스의 느낌에 가까웠음. 실제 인터페이스에 대한 언급은 없지만 인터페이스를 통해 역할이 주어지면 객체가 변경되어도 역할은 동일하니까. 이걸 추상화라는 용어로 설명했지만 어쩌면 인터페이스로 생각하는 것도 잘못된 생각인걸까?

그리고 자바에는 없지만 C#에 있는 event가 어떻게 보면 협력, 메시지 전달, 메서드 수행의 단계를 설명한 게 아닐까? 하는 생각을 해봄

event에서의 개념 정리

- 협력: event handler를 등록, 서로간의 객체 자체를 알고 있는게 아니라 event라는 통로를 통해 연결 시킴
- 메시지 전달: event invoke(), 실제 메시지를 전달 하는 과정임. 어떤 객체가 이 메시지를 받아 수행할지는 메시지를 받는 메서드(event handler)가 판단함
- 메서드 수행: event handler, 전달 받은 메시지를 수행. event 호출로 수행하던 실제 메서드 호출로 수행하던 자율성, 캡슐화가 깨지지 않음

### Discussion 02 - Object Oriented Design

이제야 객체지향적인 설계에 대한 이해도가 높아진 듯 함. 조금 흩어져 있던 개념과 지식들이 잘 정리가 되었다. 아래 내용은 각각 엄청난 범위고 디자인 패턴과 TDD의 경우는 책으로도 또 있는 내용이라, 정말 이해가 되려면 엄청난 독서량, 실제 설계 경험, 그런 경험의 많은 반복이 요구되는 것 같다. 그냥 책 한권 읽고 알았다? 의 느낌은 절대 안올 듯.

- Responsibility-Driven Design
- Design Pattern
- Test-Driven Development

책임 주도 설계에 대한 건 어렴풋이 기억을 하고 있긴 했지만, 실제로 일할 때 의식하고 설계하지는 못함. 어쩌면 자연스럽게 체득해서 진행을 하고 있었던 건데 의식을 진짜 못했음. 이제는 책임 주도 설계라고 얘기할 수 있는 확신이 생김

디자인 패턴은 지식으로 알아가기에는 이해의 문턱이 상당히 높다. 객체지향 언어 다룰 줄 알고 경력 좀 된다고 떠들고 다닐만한 주제가 아니라는 걸 composite 패턴을 통해 다시 알게 됨. 디자인 패턴 안다고 얘기하는 사람이 어떻게 보면 제일 무서운 사람인듯, 정말 알고서 얘기하는 것일까? 아니면 과시하려고 혹은 이상적인 지향점이라서 얘기하는 것일까?

내가 GoF의 디자인 패턴 책을 정말 아무것도 모르고 봤던 때가 2003년이다. 그리고 조금 코딩 잘할 줄 안다고 생각했던 2008년 즈음에도 한번 더 봤다. 이때는 확실히 몇 개의 패턴이 이해가 좀 됐고 인터페이스의 중요성을 알게 됐다. 이후 다시 여러 패턴들을 알려주면서 공부한다고 했던 2017년 에도 다시 봤다. 2021년 지금 와서 돌이켜 보면 많이 알고 있다고 자신있게 얘기할 수 있나 싶을 정도다. 30년 이상 된 선배들의 피, 땀, 눈물 그리고 진심으로 설계라는 걸 해보지 않았으면 영원히 이해 못할 내용인 듯 하다. 이걸 정말 이해해서 실무에 적용한걸 **자랑스럽게** 얘기할 수 있는 사람을 찾아보고 싶다 진심으로.

TDD 역시 설계에 대한 근본적인 개념 없이 테스트 코드 짜는 거라고 생각하면 여지없이 실패한다. (뭐 테스트 코드조차 짜는 사람이 얼마나 될까?) 클래스 설계, 다시 말해 객체지향적인 설계가 없이 TDD를 하겠다고 덤벼들면 항상 왜? 라는 질문에 답을 못하기 때문. 결국 설계라는 걸 해본 적이 없이 TDD를 하면 이게 왜 좋은거지? 라는 스스로의 질문에 대답을 못해서 하는둥 마는 둥 하다 망함. 그리고 경험담인데, 이미 흉내내기로 해보다가 몇 번 망해본 적 있음.

10년전에 [테스트 주도 개발](http://aladin.kr/p/DFRsX)이라는 책 읽고 TDD 하는 방법에 대해서 알고자 했던 과거의 자신을 반성. 이제 TDD를 언급하려고 하면 반드시 설계에 대한걸 물어보고 시작해야 정상적인 객체지향 수련법이라고 보고 싶다.

그렇지 않다면 구현 코드를 짠 후에 unit test 적어 두고 TDD라고 주장하게 될테니까.
